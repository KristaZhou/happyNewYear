<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>名单</title>
    <style>
    body {
        color: #333;
        margin: 0;
    }

    #app {
        padding: 10px;
    }

    table {
        border-collapse: collapse;
    }

    table th,
    table td {
        padding: 10px;
        border: 1px solid #eee;
    }
    </style>
</head>

<body>
    <div id="app"></div>
    <script src="./qrcode.min.js"></script>
    <script src="./data.js"></script>
    <script>
    const columns = [
        { label: '姓名', prop: 'userName', width: '100px' },
        { label: '祝福语', prop: 'message' },
        { label: '二维码', prop: 'qrcoe', width: '300px' },
    ];
    document.querySelector('#app').innerHTML = renderTableHtml(columns, users);
    users.forEach((v, i) => {
        const text = `https://kristazhou.github.io/happyNewYear/index.html?userName=${v.userName}`;
        const td = document.querySelector(`tr:nth-child(${i + 1}) td:nth-child(3)`);
        QRCode.toDataURL(text, (err, url) => {
            const img = document.createElement('img');
            img.src = url;
            td.appendChild(img);
        });
    });
    </script>
</body>

</html>
